<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="신하늘의 Discord 관리자 경력 소개 페이지입니다." />
    <title>Discord 관리자 경력 - 신하늘</title>
    <meta property="og:image" content="https://raw.githubusercontent.com/Shin-Haneul/Homepage/main/images/embed_image.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="banner with-image">
      <div class="banner-image-container">
        <img src="images/banner.png" alt="배너 이미지" class="banner-image">
      </div>
    </header>
    
    <section class="intro-section">
      <div class="container">
        <h1>Discord 관리자 경력</h1>
        <p class="intro-text">다양한 서버에서의 Discord 관리 경험을 정리한 기록</p>
        <div class="social-links">
          <a href="https://github.com/turin-dev" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
          <a href="https://www.youtube.com/@turin-dev" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
          <a href="https://open.spotify.com/user/31k5mjulm2dp5nxyobaukxz4wbo4?si=5d649ed743c04181" target="_blank" aria-label="Spotify"><i class="fab fa-spotify"></i></a>
          <a href="discord://-/users/1081362980798726254" title="Discord"><i class="fab fa-discord"></i></a>
        </div>
      </div>
    </section>
    <nav id="main-nav" >
      <div class="container">
        <ul>
          <li><a href="index.html"><i class="fas fa-user"></i> 프로필</a></li>
          <li><a href="portfolio.html" class="active"><i class="fas fa-briefcase"></i> Discord 관리자 경력</a></li>
          <li><a href="posts.html"><i class="fas fa-pen"></i> 포스트</a></li>
          <li><a href="#" id="dark-mode-toggle"><i class="fas fa-moon"></i> 다크 모드</a></li>
        </ul>
      </div>
    </nav>
    <main>
      <div class="container">
        <section id="discord-career">
          <h2><i class="fab fa-discord"></i> Discord 관리자 경력</h2>
          <p class="section-intro">다양한 Discord 서버에서 관리자로 활동한 경험을 정리했습니다. 각 서버에서의 역할과 책임을 통해 커뮤니티 관리 및 운영 능력을 키워왔습니다.</p>

          <div class="table-container">
          <table>
            <thead>
              <tr>
                <th data-sort-type="number">No. </th>
                <th data-sort-type="string">서버명 </th>
                <th class="filter-th" data-filter-type="category">분류 <i class="fas fa-chevron-down filter-toggle-icon"></i><div class="filter-options"></div></th>
                <th data-sort-type="number">순 인원 <i class="fas fa-sort"></i></th>
                <th class="filter-th" data-filter-type="department">부서 <i class="fas fa-chevron-down filter-toggle-icon"></i><div class="filter-options"></div></th>
                <th class="filter-th" data-filter-type="position">직급 <i class="fas fa-chevron-down filter-toggle-icon"></i><div class="filter-options"></div></th>
                <th data-sort-type="string">직무 </th>
                <th data-sort-type="string">임기 </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>나인의 신비로운 작업실</td>
                <td>친목, 정보</td>
                <td>4000+</td>
                <td>지원팀</td>
                <td>팀원</td>
                <td>서버에 올라오는 질문은 다른 지원팀분들과 함께 지원</td>
                <td>2025.7.10 ~ 제직중</td>
              </tr>
              <tr>
                <td>2</td>
                <td>Overwatch2 Group [O2G]</td>
                <td>게임, 친목, 팀 찾기</td>
                <td>7000+</td>
                <td>서버관리팀</td>
                <td>총괄</td>
                <td>서버의 갈등, 봇오류, 티켓처리등 모든일을 다하는 팀</td>
                <td>2025.7.11 ~ 제직중</td>
              </tr>
              <tr>
            </tbody>
          </table>
          </div>
        </section>
      </div>
    </main>
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-links">
            <a href="index.html">프로필</a>
            <a href="portfolio.html">Discord 관리자 경력</a>
            <a href="posts.html">포스트</a>
          </div>
          <div class="social-links">
            <a href="https://github.com/turin-dev" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
            <a href="https://www.youtube.com/@turin_dev" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            <a href="https://open.spotify.com/user/31k5mjulm2dp5nxyobaukxz4wbo4?si=5d649ed743c04181" target="_blank" aria-label="Spotify"><i class="fab fa-spotify"></i></a>
            <a href="discord://-/users/1081362980798726254" title="Discord"><i class="fab fa-discord"></i></a>
          </div>
          <p>&copy; 2025 turin_offical | All Rights Reserved</p>
        </div>
      </div>
    </footer>
    

    
    <script>
      // 스크롤 시 네비게이션 바 스타일 변경
      window.addEventListener('scroll', function() {
        const nav = document.getElementById('main-nav');
        if (window.scrollY > 100) {
          nav.classList.add('scrolled');
        } else {
          nav.classList.remove('scrolled');
        }
      });

      // 다크 모드 토글 기능
      const darkModeToggle = document.getElementById('dark-mode-toggle');
      const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
      
      // 로컬 스토리지에서 테마 설정 불러오기
      const savedTheme = localStorage.getItem('theme');

      // 초기 테마 설정 함수
      function applyTheme(theme) {
        if (theme === 'dark') {
          document.body.classList.add('dark-mode');
          darkModeToggle.innerHTML = '<i class="fas fa-sun"></i><span> 라이트 모드</span>'; // 다크 모드일 때 라이트 모드로 전환 버튼
        } else {
          document.body.classList.remove('dark-mode');
          darkModeToggle.innerHTML = '<i class="fas fa-moon"></i><span> 다크 모드 </span>'; // 라이트 모드일 때 다크 모드로 전환 버튼 (글자 수 맞춤)
        }
      }

      if (savedTheme) {
        applyTheme(savedTheme);
      } else if (prefersDarkScheme.matches) {
        // 로컬 스토리지에 없으면 시스템 설정 따르기
        applyTheme('dark');
      } else {
        applyTheme('light');
      }

      // 버튼 클릭 시 다크/라이트 모드 토글
      darkModeToggle.addEventListener('click', function(e) {
        e.preventDefault();
        if (document.body.classList.contains('dark-mode')) {
          applyTheme('light');
          localStorage.setItem('theme', 'light');
        } else {
          applyTheme('dark');
          localStorage.setItem('theme', 'dark');
        }
      });

      // 필터링 기능
      document.addEventListener('DOMContentLoaded', function() {
        const filterHeaders = document.querySelectorAll('.filter-th');
         const filterOptionsContainers = document.querySelectorAll('.filter-th .filter-options');
         const tableRows = Array.from(document.querySelectorAll('.discord-career-table tbody tr'));
         const filters = {
           category: new Set(),
           department: new Set(),
           position: new Set()
         };
         const filterOptions = {
           category: new Set(),
           department: new Set(),
           position: new Set()
         };

        // 테이블에서 고유한 필터 값 추출
        // tableRows는 이미 상단에서 선언되었으므로 재선언하지 않음
        // filters 객체는 이미 선언되었으므로 재선언하지 않음
        document.querySelectorAll('.discord-career-table tbody tr').forEach(row => {
          const cells = row.children;
          filters.category.add(cells[2].textContent.trim());
          filters.department.add(cells[4].textContent.trim());
          filters.position.add(cells[5].textContent.trim());
        });

        // 필터 옵션 동적 생성
        filterOptionsContainers.forEach(container => {
          const parentTh = container.closest('.filter-th');
          const filterType = parentTh.dataset.filterType;
          const uniqueValues = Array.from(filters[filterType]).sort();

          uniqueValues.forEach(value => {
            const label = document.createElement('label');
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.value = value;
            checkbox.dataset.filterType = filterType;
            checkbox.checked = true; // 기본적으로 모두 선택
            label.appendChild(checkbox);
            label.appendChild(document.createTextNode(value));
            container.appendChild(label);
          });
        });

        // 필터 헤더 클릭 시 옵션 토글
        filterHeaders.forEach(header => {
          header.addEventListener('click', function() {
            const optionsContainer = this.nextElementSibling;
            optionsContainer.classList.toggle('active');
            const icon = this.querySelector('.filter-toggle-icon');
            icon.classList.toggle('fa-chevron-down');
            icon.classList.toggle('fa-chevron-up');
          });
        });

        // 필터 옵션 렌더링
        for (const type in filterOptions) {
          const optionsContainer = document.querySelector(`.filter-th[data-filter-type="${type}"] .filter-options`);
          if (optionsContainer) {
            filterOptions[type].forEach(option => {
              const label = document.createElement('label');
              label.innerHTML = `<input type="checkbox" data-filter-type="${type}" value="${option}" checked> ${option}`;
              optionsContainer.appendChild(label);
            });
          }
        }



        // 필터 토글 기능
        document.querySelectorAll('.filter-th .filter-toggle-icon').forEach(icon => {
          icon.addEventListener('click', function(event) {
            event.stopPropagation(); // 클릭 이벤트가 부모로 전파되는 것을 막음
            const filterOptionsDiv = this.closest('.filter-th').querySelector('.filter-options');
            filterOptionsDiv.classList.toggle('active');
          });
        });

        // 필터 변경 시 테이블 업데이트
        document.querySelectorAll('.filter-options input[type="checkbox"]').forEach(checkbox => {
          checkbox.addEventListener('change', function(event) {
            const filterType = event.target.dataset.filterType;
            const checkedCheckboxes = document.querySelectorAll(`.filter-options input[type="checkbox"][data-filter-type="${filterType}"]:checked`);
            
            // 최소 하나는 선택되어 있어야 함
            if (checkedCheckboxes.length === 0) {
              event.target.checked = true; // 선택 해제 방지
              alert('최소 하나의 필터 옵션은 선택되어 있어야 합니다.');
              return;
            }
            applyFilters();
          });
        });

        function applyFilters() {
          const activeFilters = {
            category: new Set(),
            department: new Set(),
            position: new Set()
          };

          document.querySelectorAll('.filter-options input[type="checkbox"]:checked').forEach(checkbox => {
            activeFilters[checkbox.dataset.filterType].add(checkbox.value);
          });

          tableRows.forEach(row => {
            const cells = row.children;
            const category = cells[2].textContent.trim();
            const department = cells[4].textContent.trim();
            const position = cells[5].textContent.trim();

            const showRow = 
              (activeFilters.category.size === 0 || activeFilters.category.has(category)) &&
              (activeFilters.department.size === 0 || activeFilters.department.has(department)) &&
              (activeFilters.position.size === 0 || activeFilters.position.has(position));

            row.style.display = showRow ? '' : 'none';
          });
        }

        // 테이블 정렬 기능
        document.querySelectorAll('th[data-sort-type]').forEach(header => {
          header.addEventListener('click', function(event) {
            // 필터 드롭다운 클릭 시 정렬 방지
            if (event.target.closest('.filter-options') || event.target.classList.contains('filter-toggle-icon')) {
              return;
            }

            const table = header.closest('table');
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr:not([style*="display: none"])')); // 필터링된 행만 정렬
            const columnIndex = Array.from(header.parentNode.children).indexOf(header);
            const sortType = header.dataset.sortType;
            let sortDirection = header.dataset.sortDirection || 'asc';

            rows.sort((a, b) => {
              const aText = a.children[columnIndex].textContent.trim();
              const bText = b.children[columnIndex].textContent.trim();

              let comparison = 0;
              if (sortType === 'number') {
                comparison = parseFloat(aText) - parseFloat(bText);
              } else {
                comparison = aText.localeCompare(bText);
              }

              return sortDirection === 'asc' ? comparison : -comparison;
            });

            // 기존 화살표 초기화
            document.querySelectorAll('th .fas').forEach(icon => {
              icon.classList.remove('fa-sort-up', 'fa-sort-down');
              icon.classList.add('fa-sort');
            });

            // 새 화살표 방향 설정
            const icon = header.querySelector('.fas');
            if (icon) { // 아이콘이 있는 경우에만 처리
              if (sortDirection === 'asc') {
                icon.classList.remove('fa-sort');
                icon.classList.add('fa-sort-up');
                header.dataset.sortDirection = 'desc';
              } else {
                icon.classList.remove('fa-sort');
                icon.classList.add('fa-sort-down');
                header.dataset.sortDirection = 'asc';
              }
            }

            rows.forEach(row => tbody.appendChild(row));
          });
        });

        // 문서의 다른 곳을 클릭하면 필터 드롭다운 닫기
        document.addEventListener('click', function(event) {
          document.querySelectorAll('.filter-options.active').forEach(optionsDiv => {
            if (!optionsDiv.contains(event.target) && !event.target.closest('.filter-th')) {
              optionsDiv.classList.remove('active');
            }
          });
        });

        // 초기 필터 적용
        applyFilters();
      });
    </script>
  </body>
</html>